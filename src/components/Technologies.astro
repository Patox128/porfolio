---
import Html from "../icons/Html.astro";
import Css from "../icons/Css.astro";
import JavaScript from "../icons/JavaScript.astro";
import Tailwind from "../icons/Tailwind.astro";
import NestJS from "../icons/NestJS.astro";
import PostgreSQL from "../icons/PostgreSQL.astro";
import TypeORM from "../icons/TypeORM.astro";
import NodeJs from "../icons/NodeJs.astro";
import TypeScript from "../icons/TypeScript.astro";
import React from "../icons/React.astro";
import Dart from "../icons/Dart.astro";
import Flutter from "../icons/Flutter.astro";

const TECHNOLOGIES = [
  { name: "HTML", icon: Html },
  { name: "CSS", icon: Css },
  { name: "JavaScript", icon: JavaScript },
  { name: "Tailwind", icon: Tailwind },
  { name: "Dart", icon: Dart },
  { name: "Flutter", icon: Flutter },
  { name: "NestJS", icon: NestJS },
  { name: "PostgreSQL", icon: PostgreSQL },
  { name: "TypeORM", icon: TypeORM },
  { name: "NodeJs", icon: NodeJs },
  { name: "TypeScript", icon: TypeScript },
  { name: "React", icon: React },
];
---

<div class="wrapper" style={`--quantity: ${TECHNOLOGIES.length}`}>
  {
    TECHNOLOGIES.map(({ name, icon: Icon }, index) => (
      <div class="itemLeft" style={`--position: ${index + 1}`}>
        <Icon class="size-14" />
        <span class="text-2xl font-semibold">{name}</span>
      </div>
    ))
  }
</div>
<div class="wrapper" style={`--quantity: ${TECHNOLOGIES.length}`}>
  {
    TECHNOLOGIES.map(({ name, icon: Icon }, index) => (
      <div class="itemRight" style={`--position: ${index + 1}`}>
        <Icon class="size-14" />
        <span class="text-2xl font-semibold">{name}</span>
      </div>
    ))
  }
</div>

<style>
  .wrapper {
    color: white;
    margin-top: 2rem;
    margin-inline: auto;
    position: relative;
    height: 100px;
    overflow: hidden;
    mask-image: linear-gradient(to right, transparent, #000 10% 90%, transparent);
  }

  @keyframes scrollLeft {
    to {
      left: -200px;
    }
  }

  @keyframes scrollRight {
    to {
      right: -200px;
    }
  }

  .itemLeft,
  .itemRight {
    width: 200px;
    height: 100px;
    border-radius: 6px;
    position: absolute;
    animation-timing-function: linear;
    animation-duration: 20s;
    animation-iteration-count: infinite;
    display: flex;
    align-items: center;
    justify-content: space-around;
    /* left: max(calc(200px * var(--quantity)), 100%); */
    /* animation: scrollLeft 15s linear infinite; */
    animation-delay: calc(20s / var(--quantity) * (var(--quantity) - var(--position)) * -1);
  }

  .itemLeft {
    left: max(calc(200px * var(--quantity)), 100%);
    animation-name: scrollLeft;
  }

  .itemRight {
    right: max(calc(200px * var(--quantity)), calc(100%));
    animation-name: scrollRight;
  }
</style>
